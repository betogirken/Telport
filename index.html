<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Telport 3D — Impresión 3D bajo demanda</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Fuente -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Firebase SDKs (compat) -->
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth-compat.js"></script>

  <style>
    :root{
      --bg-main:#030617;
      --bg-elevated:#05091f;
      --bg-card:#050a1f;
      --border-subtle:#111827;
      --accent:#ff4b5c;
      --accent-soft:rgba(255,75,92,0.14);
      --accent-strong:#ff596a;
      --text-main:#e5e7eb;
      --text-muted:#9ca3af;
      --text-soft:#6b7280;
      --pill:#15803d;
      --danger:#ef4444;
      --radius-lg:18px;
      --shadow-soft:0 18px 45px rgba(0,0,0,0.65);
    }

    *{
      box-sizing:border-box;
    }

    html,body{
      margin:0;
      padding:0;
      height:100%;
      font-family:"Inter",system-ui,-apple-system,Segoe UI,sans-serif;
      background:
        radial-gradient(circle at top, #020617 0, #020617 45%, #020617 60%, #000 100%);
      color:var(--text-main);
    }

    body{
      display:flex;
      flex-direction:column;
    }

    a{
      color:inherit;
      text-decoration:none;
    }

    .page{
      max-width:1160px;
      margin:0 auto;
      padding:20px 16px 72px;
    }

    /* NAVBAR */
    .nav{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:10px 0 12px;
      position:sticky;
      top:0;
      z-index:40;
      backdrop-filter:blur(20px);
      background:linear-gradient(to bottom,rgba(3,6,23,0.96),rgba(3,6,23,0.85),transparent);
    }
    .nav-left{
      display:flex;
      align-items:center;
      gap:10px;
    }
    .logo-circle{
      width:36px;
      height:36px;
      border-radius:999px;
      background:#020617;
      border:1px solid rgba(148,163,184,0.35);
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
    }
    .logo-circle img{
      width:25px;
      height:25px;
      object-fit:contain;
    }
    .nav-brand{
      display:flex;
      flex-direction:column;
      gap:2px;
    }
    .nav-title{
      font-size:15px;
      font-weight:600;
      letter-spacing:0.03em;
    }
    .nav-sub{
      font-size:11px;
      color:var(--text-soft);
    }
    .nav-links{
      display:flex;
      align-items:center;
      gap:22px;
      font-size:13px;
      color:var(--text-muted);
    }
    .nav-links a{
      padding:4px 0;
      position:relative;
    }
    .nav-links a:hover{
      color:#f9fafb;
    }
    .nav-links a::after{
      content:"";
      position:absolute;
      left:0;
      right:0;
      bottom:-4px;
      height:2px;
      border-radius:999px;
      background:linear-gradient(to right,#4f46e5,#ec4899);
      transform:scaleX(0);
      transform-origin:center;
      transition:transform 160ms ease-out;
    }
    .nav-links a:hover::after{
      transform:scaleX(1);
    }
    .nav-cta{
      padding:6px 16px;
      border-radius:999px;
      border:1px solid rgba(248,250,252,0.16);
      font-size:12px;
      font-weight:500;
      color:#f9fafb;
      background:radial-gradient(circle at top,#f87171 0,#fb7185 40%,#c026d3 100%);
      box-shadow:0 18px 35px rgba(248,113,113,0.35);
    }

    /* HERO */
    .hero{
      margin-top:16px;
      display:grid;
      grid-template-columns: minmax(0,1.4fr) minmax(0,1.1fr);
      gap:32px;
      align-items:flex-start;
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding:4px 12px;
      font-size:11px;
      border-radius:999px;
      background:rgba(22,163,74,0.16);
      color:#bbf7d0;
      border:1px solid rgba(22,163,74,0.45);
      margin-bottom:14px;
    }
    .pill-dot{
      width:7px;
      height:7px;
      border-radius:999px;
      background:#22c55e;
      box-shadow:0 0 0 4px rgba(34,197,94,0.55);
    }
    .hero-title{
      font-size:34px;
      line-height:1.15;
      font-weight:800;
      letter-spacing:-0.03em;
      margin:0 0 12px;
    }
    .hero-title span.accent{
      color:var(--accent);
      text-shadow:0 0 18px rgba(239,68,68,0.55);
    }
    .hero-sub{
      font-size:14px;
      color:var(--text-muted);
      max-width:520px;
      margin-bottom:22px;
    }
    .hero-buttons{
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      margin-bottom:18px;
    }
    .btn{
      border-radius:999px;
      padding:9px 18px;
      font-size:13px;
      font-weight:500;
      border:1px solid transparent;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:6px;
    }
    .btn-primary{
      background:var(--accent);
      color:#0b1120;
      box-shadow:var(--shadow-soft);
    }
    .btn-outline{
      background:rgba(15,23,42,0.75);
      border-color:#1f2937;
      color:var(--text-main);
    }
    .hero-bullets{
      display:flex;
      flex-direction:column;
      gap:8px;
      margin-top:6px;
      font-size:12px;
      color:var(--text-soft);
    }
    .hero-bullet{
      display:flex;
      align-items:flex-start;
      gap:8px;
    }
    .hero-bullet span.icon{
      margin-top:2px;
      width:14px;
      height:14px;
      border-radius:4px;
      border:1px solid rgba(156,163,175,0.5);
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:9px;
      color:#e5e7eb;
    }

    /* PANEL MODELOS */
    .panel{
      border-radius:var(--radius-lg);
      background:radial-gradient(circle at top,#020617 0,#020617 45%,#020617 70%,#000 100%);
      border:1px solid rgba(148,163,184,0.28);
      box-shadow:var(--shadow-soft);
      padding:14px 14px 18px;
    }

    .panel-tabs{
      display:flex;
      gap:8px;
      margin-bottom:10px;
      font-size:12px;
    }
    .pill-tab{
      padding:4px 10px;
      border-radius:999px;
      border:1px solid transparent;
      background:#020617;
      color:var(--text-soft);
      cursor:pointer;
    }
    .pill-tab.active{
      background:var(--accent-soft);
      border-color:rgba(248,113,113,0.6);
      color:#fecaca;
    }

    .models-grid{
      display:grid;
      grid-template-columns:repeat(2,minmax(0,1fr));
      gap:10px;
      margin-top:6px;
    }
    .model-card{
      border-radius:14px;
      background:rgba(15,23,42,0.92);
      border:1px solid rgba(75,85,99,0.65);
      padding:10px 10px 11px;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      min-height:120px;
    }
    .model-name{
      font-size:13px;
      font-weight:600;
      margin-bottom:2px;
    }
    .model-cat{
      font-size:11px;
      color:#9ca3af;
      margin-bottom:8px;
    }
    .model-meta{
      font-size:10px;
      color:#9ca3af;
      display:flex;
      justify-content:space-between;
      gap:6px;
    }
    .model-meta span.label{
      color:#6b7280;
    }
    .model-footer{
      margin-top:6px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      font-size:11px;
      color:#9ca3af;
    }
    .chip-ready{
      padding:2px 8px;
      border-radius:999px;
      background:rgba(34,197,94,0.1);
      color:#bbf7d0;
      border:1px solid rgba(34,197,94,0.6);
    }

    /* SECCIÓN DISEÑADORES */
    .section-title{
      margin-top:54px;
      margin-bottom:12px;
      font-size:20px;
      font-weight:700;
      letter-spacing:-0.03em;
    }
    .section-sub{
      font-size:13px;
      color:var(--text-muted);
      max-width:620px;
      margin-bottom:18px;
    }

    .designer-layout{
      display:grid;
      grid-template-columns:minmax(0,1.1fr) minmax(0,1.1fr);
      gap:20px;
      align-items:flex-start;
    }

    .designer-card{
      background:var(--bg-card);
      border-radius:var(--radius-lg);
      border:1px solid var(--border-subtle);
      padding:16px 16px 18px;
      box-shadow:var(--shadow-soft);
    }

    .designer-card h3{
      margin:0 0 12px;
      font-size:15px;
      font-weight:600;
    }

    .helper{
      font-size:11px;
      color:var(--text-soft);
      margin-bottom:10px;
    }

    .form-row{
      margin-bottom:10px;
      font-size:12px;
    }
    .form-row label{
      display:block;
      margin-bottom:4px;
      color:#d1d5db;
      font-size:11px;
    }
    .input, .select, .textarea{
      width:100%;
      padding:7px 9px;
      border-radius:10px;
      border:1px solid #111827;
      background:#020617;
      color:#e5e7eb;
      font-family:inherit;
      font-size:12px;
    }
    .select{
      padding-right:24px;
    }
    .textarea{
      min-height:70px;
      resize:vertical;
    }
    .input:disabled,
    .select:disabled,
    .textarea:disabled{
      opacity:0.4;
      cursor:not-allowed;
    }

    .btn-sm{
      font-size:11px;
      padding:6px 10px;
    }

    .btn-full{
      width:100%;
    }

    .btn-primary-soft{
      background:#ef4444;
      color:#fff7ed;
      border:none;
      box-shadow:0 15px 30px rgba(248,113,113,0.35);
    }

    .hint{
      margin-top:6px;
      font-size:11px;
      color:var(--text-soft);
    }

    .disclaimer{
      margin-top:40px;
      font-size:10px;
      color:var(--text-soft);
      text-align:right;
    }

    @media (max-width:900px){
      .hero{
        grid-template-columns:minmax(0,1fr);
      }
      .designer-layout{
        grid-template-columns:minmax(0,1fr);
      }
      .panel{
        margin-top:10px;
      }
      .nav-links{
        display:none;
      }
    }
  </style>
</head>
<body>
  <div class="page">
    <!-- NAVBAR -->
    <header class="nav">
      <div class="nav-left">
        <div class="logo-circle">
          <!-- usa tu logo real en el repo -->
          <img src="logo-telport.jpg" alt="Telport 3D logo">
        </div>
        <div class="nav-brand">
          <div class="nav-title">TELPORT 3D</div>
          <div class="nav-sub">Impresión 3D bajo demanda</div>
        </div>
      </div>
      <nav class="nav-links">
        <a href="#funciona">Cómo funciona</a>
        <a href="#marketplace">Modelos</a>
        <a href="#disenadores">Diseñadores</a>
      </nav>
      <a href="#acceso" class="nav-cta">Acceso anticipado →</a>
    </header>

    <!-- HERO -->
    <main>
      <section id="marketplace" class="hero">
        <div>
          <div class="pill">
            <span class="pill-dot"></span>
            PLATAFORMA EN CONSTRUCCIÓN · MVP
          </div>
          <h1 class="hero-title">
            Diseños 3D que se <span class="accent">imprimen directamente</span> desde la web.
          </h1>
          <p class="hero-sub">
            Los diseñadores suben sus modelos 3D a Telport y los usuarios generan
            una orden de impresión online. Sin descargas, sin archivos dando vueltas:
            del diseño al objeto físico.
          </p>

          <div class="hero-buttons">
            <a href="#disenadores" class="btn btn-primary">Soy diseñador 3D</a>
            <a href="#marketplace" class="btn btn-outline">Quiero mandar a imprimir</a>
          </div>

          <div class="hero-bullets">
            <div class="hero-bullet">
              <span class="icon">●</span>
              <span>Impresión directa: todo el flujo ocurre en Telport, listo para conectar con centros de impresión.</span>
            </div>
            <div class="hero-bullet">
              <span class="icon">●</span>
              <span>Latam first: foco inicial en centros de impresión en Argentina.</span>
            </div>
            <div class="hero-bullet">
              <span class="icon">●</span>
              <span>MVP: el backend de órdenes está listo para el siguiente paso.</span>
            </div>
          </div>
        </div>

        <!-- Panel modelos -->
        <aside class="panel">
          <div class="panel-tabs">
            <button class="pill-tab active" type="button">Modelos</button>
            <button class="pill-tab" type="button" disabled>Órdenes</button>
          </div>

          <div class="models-grid" id="models-grid">
            <!-- Se llena por JS con const designs -->
          </div>

          <p class="disclaimer">v0.1 · Todo es mock: listo para conectarlo a un sistema real de impresión.</p>
        </aside>
      </section>

      <!-- Sección diseñadores -->
      <section id="disenadores">
        <h2 class="section-title">Para diseñadores 3D</h2>
        <p class="section-sub">
          Vos diseñás. Telport imprime. El objetivo es que moneticés tus modelos
          sin tener que compartir archivos ni gestionar la parte operativa de la impresión.
        </p>

        <div class="designer-layout">
          <!-- Columna izquierda: beneficios -->
          <div class="designer-card">
            <h3>Qué va a permitir tu panel</h3>
            <ul style="margin:0 0 12px 16px; padding:0; font-size:12px; color:var(--text-muted); display:flex; flex-direction:column; gap:6px;">
              <li>Subir y gestionar tu catálogo de modelos 3D en un solo lugar.</li>
              <li>Definir precio por impresión, sin necesidad de vender el archivo.</li>
              <li>Ver métricas: órdenes, centros donde se imprimió, ingresos acumulados.</li>
              <li>Recibir tus royalties automáticamente cada vez que se imprime tu diseño.</li>
            </ul>
            <p class="helper">
              Abajo simulamos un formulario de carga de diseño. Por ahora sólo impacta en el grid de esta landing,
              pero es el mismo flujo que luego se conectará al backend real.
            </p>
          </div>

          <!-- Columna derecha: formulario + login -->
          <div class="designer-card" id="pre-registro">
            <h3>Simulá subir un diseño</h3>
            <p id="auth-info" class="helper">
              Iniciá sesión con Google para poder subir diseños.
            </p>
            <button type="button" class="btn btn-outline btn-sm" id="btn-auth-google" style="margin-bottom:10px;">
              Iniciar sesión con Google
            </button>

            <form class="form" id="formNuevoDesign">
              <div class="form-row">
                <label for="nuevoNombre">Nombre del diseño</label>
                <input class="input" id="nuevoNombre" type="text"
                       placeholder="Ej: Soporte minimalista para celular" required>
              </div>

              <div class="form-row">
                <label for="nuevoCategoria">Categoría</label>
                <select class="select" id="nuevoCategoria" required>
                  <option value="Gadgets">Gadgets</option>
                  <option value="Hogar">Hogar</option>
                  <option value="Figuras">Figuras</option>
                  <option value="Organización">Organización</option>
                </select>
              </div>

              <div class="form-row">
                <label for="nuevoPrecio">Precio por impresión (USD)</label>
                <input class="input" id="nuevoPrecio" type="number" step="0.01" min="0"
                       placeholder="Ej: 9.90" required>
              </div>

              <div class="form-row">
                <label for="nuevoDesc">Descripción corta</label>
                <textarea class="textarea" id="nuevoDesc"
                          placeholder="Breve descripción del modelo y usos recomendados."></textarea>
              </div>

              <div class="form-row">
                <label for="nuevoArchivo">Archivo 3D (mock)</label>
                <input class="input" id="nuevoArchivo" type="file" disabled>
                <p class="hint">
                  En el MVP esto se simula; en producción el archivo se usará sólo para generar las impresiones,
                  no para descarga.
                </p>
              </div>

              <button type="submit" class="btn btn-primary-soft btn-full">
                Agregar al catálogo (mock)
              </button>

              <p class="hint">
                Al enviar, el diseño aparece en la sección "Modelos listos para imprimir"
                como ejemplo de flujo.
              </p>
            </form>
          </div>
        </div>

        <!-- Acceso anticipado -->
        <div id="acceso" style="margin-top:38px;">
          <h3 style="font-size:15px; margin:0 0 10px;">Acceso anticipado</h3>
          <p class="helper" style="margin-bottom:8px;">
            Dejamos un formulario simple para early adopters. En la versión final esto será un onboarding completo
            para centros de impresión y diseñadores.
          </p>
          <form style="display:grid; grid-template-columns: minmax(0,1.2fr) minmax(0,1.1fr); gap:10px; max-width:540px;">
            <div class="form-row" style="margin-bottom:0;">
              <label for="emailAcceso">Correo electrónico</label>
              <input class="input" id="emailAcceso" type="email" placeholder="tucorreo@ejemplo.com">
            </div>
            <div class="form-row" style="margin-bottom:0;">
              <label for="rolAcceso">Rol</label>
              <select class="select" id="rolAcceso">
                <option value="disenador">Diseñador 3D</option>
                <option value="centro">Centro de impresión</option>
                <option value="ambos">Ambos</option>
              </select>
            </div>
          </form>
        </div>
      </section>
    </main>
  </div>

  <!-- TOAST simple -->
  <div id="toast" class="toast" style="
      position:fixed;
      left:50%;
      bottom:22px;
      transform:translateX(-50%);
      padding:8px 14px;
      font-size:11px;
      border-radius:999px;
      background:#111827;
      color:#e5e7eb;
      border:1px solid rgba(148,163,184,0.6);
      box-shadow:0 18px 35px rgba(0,0,0,0.55);
      display:none;
      z-index:60;">
    Diseño agregado al catálogo (mock).
  </div>

  <script>
    // ===== MOCK DE DISEÑOS INICIALES =====
    const designs = [
      {
        id: 1,
        name: "Soporte articulado para celular",
        category: "Gadgets",
        price: 8.9,
        tags: ["PLA", "Escritorio"],
        usage: "Impresión bajo demanda",
        eta: "48 h",
        description: "Soporte regulable para celular, optimizado para impresión FDM. La orden se envía directamente a un centro de impresión asociado."
      },
      {
        id: 2,
        name: "Maceta paramétrica hexagonal",
        category: "Hogar",
        price: 11.5,
        tags: ["Decoración", "Interior"],
        usage: "Impresión bajo demanda",
        eta: "72 h",
        description: "Maceta de diseño paramétrico con drenaje optimizado. Ideal para PLA y PETG en tamaños medianos."
      },
      {
        id: 3,
        name: "Organizador modular de escritorio",
        category: "Organización",
        price: 14.9,
        tags: ["Oficina", "Setup"],
        usage: "Impresión bajo demanda",
        eta: "72 h",
        description: "Módulos apilables para organizar cables, lápices y accesorios de escritorio."
      },
      {
        id: 4,
        name: "Figura low-poly",
        category: "Figuras",
        price: 19.9,
        tags: ["Coleccionable", "Resina"],
        usage: "Impresión bajo demanda",
        eta: "Entrega estimada 72h",
        description: "Figura de estilo low-poly pensada para resina. Ideal para pintado posterior."
      }
    ];

    function renderDesigns(){
      const container = document.getElementById("models-grid");
      if(!container) return;
      container.innerHTML = "";

      designs.forEach(d => {
        const card = document.createElement("div");
        card.className = "model-card";

        card.innerHTML = `
          <div>
            <div class="model-name">${d.name}</div>
            <div class="model-cat">${d.category}</div>
            <div class="model-meta">
              <span><span class="label">Precio:</span> US$ ${d.price.toFixed(2)}</span>
              <span><span class="label">ETA:</span> ${d.eta}</span>
            </div>
          </div>
          <div class="model-footer">
            <span>${d.usage}</span>
            <span class="chip-ready">Listo para imprimir</span>
          </div>
        `;
        container.appendChild(card);
      });
    }

    function showToast(msg){
      const toast = document.getElementById("toast");
      if(!toast) return;
      toast.textContent = msg;
      toast.style.display = "block";
      clearTimeout(showToast._t);
      showToast._t = setTimeout(() => {
        toast.style.display = "none";
      }, 2600);
    }

    document.addEventListener("DOMContentLoaded", () => {
      renderDesigns();

      const form = document.getElementById("formNuevoDesign");
      if(form){
        form.addEventListener("submit", (e) => {
          e.preventDefault();
          const nombre = document.getElementById("nuevoNombre").value.trim();
          const cat    = document.getElementById("nuevoCategoria").value;
          const precio = parseFloat(document.getElementById("nuevoPrecio").value || "0");
          const desc   = document.getElementById("nuevoDesc").value.trim();

          if(!nombre) return;

          designs.unshift({
            id: Date.now(),
            name: nombre,
            category: cat,
            price: isNaN(precio) ? 0 : precio,
            tags: [],
            usage: "Modelo listo para imprimir (mock)",
            eta: "48 h",
            description: desc || ""
          });

          renderDesigns();
          showToast("Diseño agregado al catálogo (mock).");
          form.reset();
        });
      }
    });
  </script>

  <!-- === FIREBASE AUTH (GOOGLE) === -->
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyD8OP3VJuZGFcU_wHQ0QKGTGLtjmETb0zyo",
      authDomain: "telport3d.firebaseapp.com",
      projectId: "telport3d",
      storageBucket: "telport3d.firebasestorage.app",
      messagingSenderId: "171341331188",
      appId: "1:171341331188:web:b7c7362e0268b0403dbca1"
    };

    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const provider = new firebase.auth.GoogleAuthProvider();

    function getDomAuth(){
      const formNuevo = document.getElementById("formNuevoDesign");
      const authInfo  = document.getElementById("auth-info");
      const authBtn   = document.getElementById("btn-auth-google");
      const fileInput = document.getElementById("nuevoArchivo");
      return { formNuevo, authInfo, authBtn, fileInput };
    }

    function bloquearFormulario(){
      const { formNuevo, fileInput } = getDomAuth();
      if(!formNuevo) return;
      [...formNuevo.elements].forEach(el => {
        if(el.type !== "button" && el.type !== "submit") el.disabled = true;
      });
      if(fileInput) fileInput.disabled = true;
    }

    function habilitarFormulario(){
      const { formNuevo, fileInput } = getDomAuth();
      if(!formNuevo) return;
      [...formNuevo.elements].forEach(el => {
        el.disabled = false;
      });
      if(fileInput) fileInput.disabled = true; // seguimos simulando archivo
    }

    function updateUiForAuth(user){
      const { authInfo, authBtn } = getDomAuth();
      if(!authInfo || !authBtn) return;

      if(user){
        authInfo.textContent = `Conectado como ${user.displayName || user.email}`;
        authBtn.textContent  = "Cerrar sesión";
        habilitarFormulario();
      }else{
        authInfo.textContent = "Iniciá sesión con Google para poder subir diseños.";
        authBtn.textContent  = "Iniciar sesión con Google";
        bloquearFormulario();
      }
    }

    auth.onAuthStateChanged(user => {
      console.log("onAuthStateChanged:", user ? user.email : "sin usuario");
      updateUiForAuth(user);
    });

    document.addEventListener("DOMContentLoaded", () => {
      const { authBtn } = getDomAuth();
      console.log("DOM listo, authBtn =", authBtn);
      updateUiForAuth(auth.currentUser || null);

      if(!authBtn) return;

      authBtn.addEventListener("click", async () => {
        try{
          if(auth.currentUser){
            console.log("Cerrando sesión…");
            await auth.signOut();
          }else{
            console.log("Abriendo popup de Google…");
            const result = await auth.signInWithPopup(provider);
            console.log("Login OK:", result.user.email);
            updateUiForAuth(result.user);
          }
        }catch(err){
          console.error("Error en login/logout:", err);
          alert("Hubo un problema con Google Sign-In. Revisá la consola para más detalle.");
        }
      });
    });
  </script>
</body>
</html>
